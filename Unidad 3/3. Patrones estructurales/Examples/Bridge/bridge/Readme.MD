# üß© Sistema de Pagos con Patr√≥n de Dise√±o Bridge

Este proyecto demuestra c√≥mo aplicar el **patr√≥n de dise√±o estructural Bridge** en una arquitectura t√≠pica de Spring Boot, separando la abstracci√≥n de los tipos de pagos de la implementaci√≥n concreta de los procesadores de pago.

---

## üß† Prop√≥sito

El patr√≥n **Bridge** se aplica aqu√≠ para permitir la evoluci√≥n independiente de las clases de pagos (Simple, Cuotas, Recurrente) y los procesadores (Stripe, MercadoPago, PayPal, etc.), sin multiplicar innecesariamente combinaciones de clases ni acoplar jerarqu√≠as.

---

## üìÇ Estructura del Proyecto


---

## ‚öôÔ∏è Tecnolog√≠as utilizadas

- Java 17
- Spring Boot 3.x
- Maven
- Lombok (opcional)
- JUnit 5

---

## üß† ¬øPor qu√© Bridge?

Sin el patr√≥n **Bridge**, tendr√≠as que crear clases para cada combinaci√≥n:

- `SimpleStripePayment`, `SimpleMercadoPagoPayment`, `InstallmentStripePayment`, etc.

Esto viola el principio de **cerrado/abierto**, genera una explosi√≥n de clases y aumenta el acoplamiento. Con Bridge:

- Las **abstracciones** (`Payment`) y **implementaciones** (`PaymentProcessor`) evolucionan de forma independiente.

---

## üèÅ C√≥mo ejecutar

### Prerrequisitos

- Java 17 o superior
- Maven 3.6 o superior

### Ejecutar aplicaci√≥n


# Clonar y navegar al directorio
git clone https://github.com/tuusuario/payment-bridge-pattern.git
cd payment-bridge-pattern

# Compilar
mvn clean compile

# Ejecutar tests
mvn test

# Endpoint
Procesar Pago
POST /payment-system/api/payments/process
Content-Type: application/json

üß™ Ejemplos de petici√≥n
1. Pago simple con Stripe

```bash
# Ejecutar aplicaci√≥n
mvn spring-boot:run
{
  "amount": 150.00,
  "currency": "USD",
  "description": "Compra de producto",
  "customerEmail": "cliente@email.com",
  "paymentType": "SIMPLE",
  "processor": "STRIPE"
}
```
2. Pago con cuotas usando MercadoPago
```bash
{
"amount": 1200.00,
"currency": "COP",
"description": "Compra a cuotas",
"customerEmail": "cliente@email.com",
"paymentType": "INSTALLMENT",
"processor": "MERCADOPAGO",
"installments": 6
}
```
3. Pago recurrente

```bash
{
  "amount": 50.00,
  "currency": "USD",
  "description": "Suscripci√≥n mensual",
  "customerEmail": "cliente@email.com",
  "paymentType": "RECURRING",
  "frequency":"MONTHLY"
}
```

# Ejemplos de Respuesta
Respuesta Exitosa
```bash
json{
"paymentId": "12345678-90ab-cdef-1234-567890abcdef",
"status": "SUCCESS",
"amount": 150.00,
"currency": "USD",
"processor": "Stripe",
"message": "Pago procesado exitosamente",
"processedAt": "2025-06-09T10:30:00"
}
```
Respuesta con error

```bash
json{
"paymentId": null,
"status": "ERROR",
"amount": 50.00,
"currency": "EUR",
"processor": "MercadoPago",
"message": "Moneda no soportada por este procesador",
"processedAt": "2025-06-09T10:35:00"
}
```
# ‚úÖ Ventajas del uso de Bridge
Independencia entre abstracci√≥n y la implementaci√≥n.

Facilita la adici√≥n de nuevos tipos de pagos o nuevos procesadores.

Reducci√≥n de la duplicaci√≥n de c√≥digo.

Facilita pruebas unitarias al separar responsabilidades.

# ‚ö†Ô∏è Posibles desventajas
Puede agregar m√°s complejidad inicial si el problema no justifica la abstracci√≥n.

La soluci√≥n puede ser excesiva para casos simples donde una jerarqu√≠a plana sea suficiente.

